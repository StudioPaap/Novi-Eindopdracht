{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anoukpaap/Desktop/opdracht-novi/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/anoukpaap/Desktop/opdracht-novi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/anoukpaap/Desktop/opdracht-novi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import axios from\"axios\";import PlaceWeatherInput from\"../../Components/Form-input/Place-weather input/PlaceWeather\";import kelvinToCelsius from\"../../Helpers/KelvinToCelsius/KelvinToCelsius\";import\"./Weather.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var apiKey=process.env.REACT_WEATHER_API_KEY;function Weather(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),weatherData=_useState2[0],setWeatherData=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),location=_useState4[0],setLocation=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],toggleError=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],toggleLoading=_useState8[1];useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"https://api.openweathermap.org/data/2.5/weather?q=\".concat(location,\",nl&appid=\").concat(apiKey,\"&lang=nl\"));case 3:result=_context.sent;console.log(result.data);setWeatherData(result.data);_context.next=13;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);toggleError(true);toggleLoading(true);case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _fetchData.apply(this,arguments);}toggleLoading(false);if(location){fetchData();}},[location]);return/*#__PURE__*/_jsxs(\"span\",{className:\"location-details twoInputField\",children:[/*#__PURE__*/_jsx(PlaceWeatherInput,{setLocationHandler:setLocation}),loading&&/*#__PURE__*/_jsx(\"span\",{children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"span\",{className:\"wrong-location-error\",children:\"Oeps! Deze locatie bestaat niet\"}),Object.keys(weatherData).length>0&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"weather-result\",children:[/*#__PURE__*/_jsx(\"h2\",{children:weatherData.weather[0].description}),/*#__PURE__*/_jsx(\"h1\",{children:kelvinToCelsius(weatherData.main.temp)})]})})]});}export default Weather;","map":{"version":3,"names":["React","useState","useEffect","axios","PlaceWeatherInput","kelvinToCelsius","apiKey","process","env","REACT_WEATHER_API_KEY","Weather","weatherData","setWeatherData","location","setLocation","error","toggleError","loading","toggleLoading","fetchData","get","result","console","log","data","Object","keys","length","weather","description","main","temp"],"sources":["/Users/anoukpaap/Desktop/opdracht-novi/src/Pages/Weather/Weather.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\nimport axios from \"axios\";\nimport PlaceWeatherInput from \"../../Components/Form-input/Place-weather input/PlaceWeather\";\nimport kelvinToCelsius from \"../../Helpers/KelvinToCelsius/KelvinToCelsius\";\nimport \"./Weather.css\"\n\nconst apiKey = process.env.REACT_WEATHER_API_KEY;\n\nfunction Weather() {\n    const [weatherData, setWeatherData] = useState({});\n    const [location, setLocation] = useState('');\n    const [error, toggleError] = useState(false);\n    const [loading, toggleLoading] = useState(false);\n\n\n    useEffect(() => {\n        async function fetchData() {\n\n            try {\n                const result = await axios.get(`https://api.openweathermap.org/data/2.5/weather?q=${location},nl&appid=${apiKey}&lang=nl`);\n                console.log(result.data);\n                setWeatherData(result.data);\n\n            } catch (e) {\n                console.error(e);\n                toggleError(true);\n                toggleLoading(true);\n            }\n        }\n\n        toggleLoading(false);\n        if (location) {\n            fetchData();\n        }\n    }, [location]);\n\n\n    return (\n\n        <span className=\"location-details twoInputField\">\n             <PlaceWeatherInput setLocationHandler={setLocation}/>\n            {loading && <span>Loading...</span>}\n            {error &&\n                <span className=\"wrong-location-error\">\n    \tOeps! Deze locatie bestaat niet\n    </span>\n            }\n            {Object.keys(weatherData).length > 0 &&\n                <>\n                    <div className=\"weather-result\">\n                        <h2>{weatherData.weather[0].description}</h2>\n                        <h1>{kelvinToCelsius(weatherData.main.temp)}</h1>\n                    </div>\n                </>\n            }\n\n\n    </span>\n    );\n\n}\n\nexport default Weather"],"mappings":"oYAAA,MAAOA,MAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,MAAOC,kBAAP,KAA8B,8DAA9B,CACA,MAAOC,gBAAP,KAA4B,+CAA5B,CACA,MAAO,eAAP,C,6IAEA,GAAMC,OAAM,CAAGC,OAAO,CAACC,GAAR,CAAYC,qBAA3B,CAEA,QAASC,QAAT,EAAmB,CACf,cAAsCT,QAAQ,CAAC,EAAD,CAA9C,wCAAOU,WAAP,eAAoBC,cAApB,eACA,eAAgCX,QAAQ,CAAC,EAAD,CAAxC,yCAAOY,QAAP,eAAiBC,WAAjB,eACA,eAA6Bb,QAAQ,CAAC,KAAD,CAArC,yCAAOc,KAAP,eAAcC,WAAd,eACA,eAAiCf,QAAQ,CAAC,KAAD,CAAzC,yCAAOgB,OAAP,eAAgBC,aAAhB,eAGAhB,SAAS,CAAC,UAAM,SACGiB,UADH,uIACZ,sLAG6BhB,MAAK,CAACiB,GAAN,6DAA+DP,QAA/D,sBAAoFP,MAApF,aAH7B,QAGce,MAHd,eAIQC,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,IAAnB,EACAZ,cAAc,CAACS,MAAM,CAACG,IAAR,CAAd,CALR,+EAQQF,OAAO,CAACP,KAAR,cACAC,WAAW,CAAC,IAAD,CAAX,CACAE,aAAa,CAAC,IAAD,CAAb,CAVR,oEADY,4CAeZA,aAAa,CAAC,KAAD,CAAb,CACA,GAAIL,QAAJ,CAAc,CACVM,SAAS,GACZ,CACJ,CAnBQ,CAmBN,CAACN,QAAD,CAnBM,CAAT,CAsBA,mBAEI,cAAM,SAAS,CAAC,gCAAhB,wBACK,KAAC,iBAAD,EAAmB,kBAAkB,CAAEC,WAAvC,EADL,CAEKG,OAAO,eAAI,oCAFhB,CAGKF,KAAK,eACF,aAAM,SAAS,CAAC,sBAAhB,6CAJR,CAQKU,MAAM,CAACC,IAAP,CAAYf,WAAZ,EAAyBgB,MAAzB,CAAkC,CAAlC,eACG,sCACI,aAAK,SAAS,CAAC,gBAAf,wBACI,oBAAKhB,WAAW,CAACiB,OAAZ,CAAoB,CAApB,EAAuBC,WAA5B,EADJ,cAEI,oBAAKxB,eAAe,CAACM,WAAW,CAACmB,IAAZ,CAAiBC,IAAlB,CAApB,EAFJ,GADJ,EATR,GAFJ,CAuBH,CAED,cAAerB,QAAf"},"metadata":{},"sourceType":"module"}