{"ast":null,"code":"var _jsxFileName = \"/Users/anoukpaap/Desktop/opdracht-novi/src/Pages/Register/RegisterPage.js\",\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction RegisterPage() {\n  _s2();\n\n  var _s = $RefreshSig$();\n\n  // state voor het formulier\n  const [email, setEmail] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState(['']); // state voor functionaliteit\n\n  const [error, toggleError] = useState(false);\n  const [loading, toggleLoading] = useState(false);\n  const history = useHistory();\n\n  async function handleSubmit(e) {\n    _s();\n\n    e.preventDefault();\n    toggleError(false);\n    toggleLoading(true);\n    const source = axios.CancelToken.source();\n    useEffect(() => {\n      return function cleanup() {\n        source.cancel();\n      };\n    }, []);\n\n    async function handleSubmit(e) {\n      e.preventDefault();\n      toggleError(false);\n      toggleLoading(true);\n\n      try {\n        await axios.post('https://frontend-educational-backend.herokuapp.com/api/auth/signup', {\n          email: email,\n          password: password,\n          username: username,\n          role: role\n        }, {\n          cancelToken: source.token\n        }); // als alles goed gegaan is, linken we dyoor naar de login-pagina\n\n        history.push('/inlog');\n      } catch (e) {\n        console.error(e);\n        toggleError(true);\n      }\n\n      toggleLoading(false);\n    }\n  }\n\n  _s(handleSubmit, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Registreren\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email-field\",\n        children: [\"Emailadres:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email-field\",\n          name: \"email\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username-field\",\n        children: [\"Gebruikersnaam:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username-field\",\n          value: username,\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password-field\",\n        children: [\"Wachtwoord:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password-field\",\n          name: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttonrow\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"Role-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: \"Role-button\",\n              value: \"user\",\n              onChange: e => setRole(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"box\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Projectmanager\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"Role-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: \"Role-button\",\n              value: \"admin\",\n              onChange: e => setRole(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"box\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Studio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: \"Dit account bestaat al. Probeer een ander emailadres.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"form-button\",\n        disabled: loading,\n        children: \"Registreren\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Heb je al een account? Je kunt je \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"hier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 50\n      }, this), \" inloggen.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s2(RegisterPage, \"DOWmZnGxldNHo+g/Gr2H7TerW/8=\", false, function () {\n  return [useHistory];\n});\n\n_c = RegisterPage;\nexport default RegisterPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterPage\");","map":{"version":3,"names":["React","useEffect","useState","Link","useHistory","axios","RegisterPage","email","setEmail","username","setUsername","password","setPassword","role","setRole","error","toggleError","loading","toggleLoading","history","handleSubmit","e","preventDefault","source","CancelToken","cleanup","cancel","post","cancelToken","token","push","console","target","value"],"sources":["/Users/anoukpaap/Desktop/opdracht-novi/src/Pages/Register/RegisterPage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\n\nfunction RegisterPage() {\n    // state voor het formulier\n    const [email, setEmail] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [role, setRole] = useState(['']);\n\n    // state voor functionaliteit\n    const [error, toggleError] = useState(false);\n    const [loading, toggleLoading] = useState(false);\n    const history = useHistory()\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n        toggleError(false);\n        toggleLoading(true);\n\n        const source = axios.CancelToken.source();\n\n\n        useEffect(() => {\n            return function cleanup() {\n                source.cancel();\n            }\n        }, []);\n\n        async function handleSubmit(e) {\n            e.preventDefault();\n            toggleError(false);\n            toggleLoading(true);\n\n            try {\n                await axios.post('https://frontend-educational-backend.herokuapp.com/api/auth/signup', {\n                    email: email,\n                    password: password,\n                    username: username,\n                    role: role,\n                }, {\n                    cancelToken: source.token,\n                });\n\n                // als alles goed gegaan is, linken we dyoor naar de login-pagina\n                history.push('/inlog');\n            } catch (e) {\n                console.error(e);\n                toggleError(true);\n            }\n\n            toggleLoading(false);\n        }\n    }\n\n        return (\n        <>\n            <h1>Registreren</h1>\n\n            <form onSubmit={handleSubmit}>\n                <label htmlFor=\"email-field\">\n                    Emailadres:\n                    <input\n                        type=\"email\"\n                        id=\"email-field\"\n                        name=\"email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                </label>\n\n                <label htmlFor=\"username-field\">\n                    Gebruikersnaam:\n                    <input\n                        type=\"text\"\n                        id=\"username-field\"\n                        value={username}\n                        onChange={(e) => setUsername(e.target.value)}\n                    />\n                </label>\n\n                <label htmlFor=\"password-field\">\n                    Wachtwoord:\n                    <input\n                        type=\"password\"\n                        id=\"password-field\"\n                        name=\"password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                    />\n\n                    <div className=\"buttonrow\">\n                        <label htmlFor= \"Role-button\">\n                            <input type=\"radio\"\n                                   id=\"Role-button\"\n                                   value= \"user\"\n                                   onChange={(e) => setRole(e.target.value)}\n                            />\n                            <div className=\"box\">\n                                <span>Projectmanager</span>\n                            </div>\n                        </label>\n\n                        <label htmlFor= \"Role-button\">\n                            <input type=\"radio\"\n                                   id=\"Role-button\"\n                                   value=\"admin\"\n                                   onChange={(e) => setRole(e.target.value)}\n                            />\n                            <div className=\"box\">\n                                <span>Studio</span>\n                            </div>\n                        </label>\n\n\n\n                    </div>\n                </label>\n                {error && <p className=\"error\">Dit account bestaat al. Probeer een ander emailadres.</p>}\n                <button\n                    type=\"submit\"\n                    className=\"form-button\"\n                    disabled={loading}\n                >\n                    Registreren\n                </button>\n\n            </form>\n\n            <p>Heb je al een account? Je kunt je <Link to=\"/login\">hier</Link> inloggen.</p>\n        </>\n    );\n}\n\nexport default RegisterPage;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}