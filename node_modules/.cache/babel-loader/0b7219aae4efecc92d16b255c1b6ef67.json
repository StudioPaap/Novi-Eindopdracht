{"ast":null,"code":"var _jsxFileName = \"/Users/anoukpaap/Desktop/opdracht-novi/src/Pages/Register/RegisterPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction RegisterPage() {\n  _s();\n\n  // state voor het formulier\n  const [email, setEmail] = useState('');\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [role, setRole] = useState(['']); // state voor functionaliteit\n\n  const [error, toggleError] = useState(false);\n  const [loading, toggleLoading] = useState(false);\n  const history = useHistory();\n  const source = axios.CancelToken.source();\n  useEffect(() => {\n    return function cleanup() {\n      source.cancel();\n    };\n  }, []);\n\n  async function handleSubmit(data) {\n    console.log(data);\n    toggleError(false);\n    toggleLoading(true);\n\n    try {\n      await axios.post('https://frontend-educational-backend.herokuapp.com/api/auth/signup', {\n        email: email,\n        password: password,\n        username: username,\n        role: role\n      }, {\n        cancelToken: source.token\n      }); // als alles goed gegaan is, linken we door naar de login-pagina\n\n      history.push('/inlog');\n    } catch (e) {\n      console.error(e);\n      toggleError(true);\n    }\n\n    toggleLoading(false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Registreren\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onBlur: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"email-field\",\n        children: [\"Emailadres:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"email-field\",\n          name: \"email\",\n          value: email,\n          onChange: e => setEmail(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"username-field\",\n        children: [\"Gebruikersnaam:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"username-field\",\n          value: username,\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"password-field\",\n        children: [\"Wachtwoord:\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          id: \"password-field\",\n          name: \"password\",\n          value: password,\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"buttonrow\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"Role-button\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: \"Role-button\",\n              value: \"user\",\n              onChange: e => setRole(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"box\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Projectmanager\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"Role-button2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              id: \"Role-button2\",\n              value: \"admin\",\n              onChange: e => setRole(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"box\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"Studio\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: \"Dit account bestaat al. Probeer een ander emailadres.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 27\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"form-button\",\n        disabled: loading,\n        children: \"Registreren\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Heb je al een account? Je kunt je \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/inlog\",\n        children: \"hier\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 50\n      }, this), \" inloggen.\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n\n_s(RegisterPage, \"4ZmIYGaRF2TrSrXupjSZn6O544Y=\", false, function () {\n  return [useHistory];\n});\n\n_c = RegisterPage;\nexport default RegisterPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"RegisterPage\");","map":{"version":3,"names":["React","useEffect","useState","Link","useHistory","axios","RegisterPage","email","setEmail","username","setUsername","password","setPassword","role","setRole","error","toggleError","loading","toggleLoading","history","source","CancelToken","cleanup","cancel","handleSubmit","data","console","log","post","cancelToken","token","push","e","target","value"],"sources":["/Users/anoukpaap/Desktop/opdracht-novi/src/Pages/Register/RegisterPage.js"],"sourcesContent":["import React, {useEffect, useState} from 'react';\nimport {Link, useHistory} from 'react-router-dom';\nimport axios from 'axios';\n\nfunction RegisterPage() {\n    // state voor het formulier\n    const [email, setEmail] = useState('');\n    const [username, setUsername] = useState('');\n    const [password, setPassword] = useState('');\n    const [role, setRole] = useState(['']);\n\n    // state voor functionaliteit\n    const [error, toggleError] = useState(false);\n    const [loading, toggleLoading] = useState(false);\n    const history = useHistory()\n    const source = axios.CancelToken.source();\n\n\n    useEffect(() => {\n        return function cleanup() {\n            source.cancel();\n        }\n    }, []);\n\n    async function handleSubmit(data) {\n        console.log(data)\n        toggleError(false);\n        toggleLoading(true);\n\n        try {\n            await axios.post('https://frontend-educational-backend.herokuapp.com/api/auth/signup', {\n                email: email,\n                password: password,\n                username: username,\n                role: role,\n            }, {\n                cancelToken: source.token,\n            });\n\n            // als alles goed gegaan is, linken we door naar de login-pagina\n            history.push('/inlog');\n        } catch (e) {\n            console.error(e);\n            toggleError(true);\n        }\n\n        toggleLoading(false);\n    }\n\n\n    return (\n        <>\n            <h1>Registreren</h1>\n\n            <form onBlur={handleSubmit}>\n                <label htmlFor=\"email-field\">\n                    Emailadres:\n                    <input\n                        type=\"email\"\n                        id=\"email-field\"\n                        name=\"email\"\n                        value={email}\n                        onChange={(e) => setEmail(e.target.value)}\n                    />\n                </label>\n\n                <label htmlFor=\"username-field\">\n                    Gebruikersnaam:\n                    <input\n                        type=\"text\"\n                        id=\"username-field\"\n                        value={username}\n                        onChange={(e) => setUsername(e.target.value)}\n                    />\n                </label>\n\n                <label htmlFor=\"password-field\">\n                    Wachtwoord:\n                    <input\n                        type=\"password\"\n                        id=\"password-field\"\n                        name=\"password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                    />\n\n                    <div className=\"buttonrow\">\n                        <label htmlFor=\"Role-button\">\n                            <input type=\"radio\"\n                                   id=\"Role-button\"\n                                   value=\"user\"\n                                   onChange={(e) => setRole(e.target.value)}\n                            />\n                            <div className=\"box\">\n                                <span>Projectmanager</span>\n                            </div>\n                        </label>\n\n                        <label htmlFor=\"Role-button2\">\n                            <input type=\"radio\"\n                                   id=\"Role-button2\"\n                                   value=\"admin\"\n                                   onChange={(e) => setRole(e.target.value)}\n                            />\n                            <div className=\"box\">\n                                <span>Studio</span>\n                            </div>\n                        </label>\n\n\n                    </div>\n                </label>\n                {error && <p className=\"error\">Dit account bestaat al. Probeer een ander emailadres.</p>}\n                <button\n                    type=\"submit\"\n                    className=\"form-button\"\n                    disabled={loading}\n                >\n                    Registreren\n                </button>\n\n            </form>\n\n            <p>Heb je al een account? Je kunt je <Link to=\"/inlog\">hier</Link> inloggen.</p>\n        </>\n    );\n}\n\nexport default RegisterPage;\n\n\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAAQC,IAAR,EAAcC,UAAd,QAA+B,kBAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,SAASC,YAAT,GAAwB;EAAA;;EACpB;EACA,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBN,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACO,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACS,QAAD,EAAWC,WAAX,IAA0BV,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACW,IAAD,EAAOC,OAAP,IAAkBZ,QAAQ,CAAC,CAAC,EAAD,CAAD,CAAhC,CALoB,CAOpB;;EACA,MAAM,CAACa,KAAD,EAAQC,WAAR,IAAuBd,QAAQ,CAAC,KAAD,CAArC;EACA,MAAM,CAACe,OAAD,EAAUC,aAAV,IAA2BhB,QAAQ,CAAC,KAAD,CAAzC;EACA,MAAMiB,OAAO,GAAGf,UAAU,EAA1B;EACA,MAAMgB,MAAM,GAAGf,KAAK,CAACgB,WAAN,CAAkBD,MAAlB,EAAf;EAGAnB,SAAS,CAAC,MAAM;IACZ,OAAO,SAASqB,OAAT,GAAmB;MACtBF,MAAM,CAACG,MAAP;IACH,CAFD;EAGH,CAJQ,EAIN,EAJM,CAAT;;EAMA,eAAeC,YAAf,CAA4BC,IAA5B,EAAkC;IAC9BC,OAAO,CAACC,GAAR,CAAYF,IAAZ;IACAT,WAAW,CAAC,KAAD,CAAX;IACAE,aAAa,CAAC,IAAD,CAAb;;IAEA,IAAI;MACA,MAAMb,KAAK,CAACuB,IAAN,CAAW,oEAAX,EAAiF;QACnFrB,KAAK,EAAEA,KAD4E;QAEnFI,QAAQ,EAAEA,QAFyE;QAGnFF,QAAQ,EAAEA,QAHyE;QAInFI,IAAI,EAAEA;MAJ6E,CAAjF,EAKH;QACCgB,WAAW,EAAET,MAAM,CAACU;MADrB,CALG,CAAN,CADA,CAUA;;MACAX,OAAO,CAACY,IAAR,CAAa,QAAb;IACH,CAZD,CAYE,OAAOC,CAAP,EAAU;MACRN,OAAO,CAACX,KAAR,CAAciB,CAAd;MACAhB,WAAW,CAAC,IAAD,CAAX;IACH;;IAEDE,aAAa,CAAC,KAAD,CAAb;EACH;;EAGD,oBACI;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAGI;MAAM,MAAM,EAAEM,YAAd;MAAA,wBACI;QAAO,OAAO,EAAC,aAAf;QAAA,uCAEI;UACI,IAAI,EAAC,OADT;UAEI,EAAE,EAAC,aAFP;UAGI,IAAI,EAAC,OAHT;UAII,KAAK,EAAEjB,KAJX;UAKI,QAAQ,EAAGyB,CAAD,IAAOxB,QAAQ,CAACwB,CAAC,CAACC,MAAF,CAASC,KAAV;QAL7B;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAYI;QAAO,OAAO,EAAC,gBAAf;QAAA,2CAEI;UACI,IAAI,EAAC,MADT;UAEI,EAAE,EAAC,gBAFP;UAGI,KAAK,EAAEzB,QAHX;UAII,QAAQ,EAAGuB,CAAD,IAAOtB,WAAW,CAACsB,CAAC,CAACC,MAAF,CAASC,KAAV;QAJhC;UAAA;UAAA;UAAA;QAAA,QAFJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAZJ,eAsBI;QAAO,OAAO,EAAC,gBAAf;QAAA,uCAEI;UACI,IAAI,EAAC,UADT;UAEI,EAAE,EAAC,gBAFP;UAGI,IAAI,EAAC,UAHT;UAII,KAAK,EAAEvB,QAJX;UAKI,QAAQ,EAAGqB,CAAD,IAAOpB,WAAW,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV;QALhC;UAAA;UAAA;UAAA;QAAA,QAFJ,eAUI;UAAK,SAAS,EAAC,WAAf;UAAA,wBACI;YAAO,OAAO,EAAC,aAAf;YAAA,wBACI;cAAO,IAAI,EAAC,OAAZ;cACO,EAAE,EAAC,aADV;cAEO,KAAK,EAAC,MAFb;cAGO,QAAQ,EAAGF,CAAD,IAAOlB,OAAO,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV;YAH/B;cAAA;cAAA;cAAA;YAAA,QADJ,eAMI;cAAK,SAAS,EAAC,KAAf;cAAA,uBACI;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;YADJ;cAAA;cAAA;cAAA;YAAA,QANJ;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ,eAYI;YAAO,OAAO,EAAC,cAAf;YAAA,wBACI;cAAO,IAAI,EAAC,OAAZ;cACO,EAAE,EAAC,cADV;cAEO,KAAK,EAAC,OAFb;cAGO,QAAQ,EAAGF,CAAD,IAAOlB,OAAO,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV;YAH/B;cAAA;cAAA;cAAA;YAAA,QADJ,eAMI;cAAK,SAAS,EAAC,KAAf;cAAA,uBACI;gBAAA;cAAA;gBAAA;gBAAA;gBAAA;cAAA;YADJ;cAAA;cAAA;cAAA;YAAA,QANJ;UAAA;YAAA;YAAA;YAAA;UAAA,QAZJ;QAAA;UAAA;UAAA;UAAA;QAAA,QAVJ;MAAA;QAAA;QAAA;QAAA;MAAA,QAtBJ,EA0DKnB,KAAK,iBAAI;QAAG,SAAS,EAAC,OAAb;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QA1Dd,eA2DI;QACI,IAAI,EAAC,QADT;QAEI,SAAS,EAAC,aAFd;QAGI,QAAQ,EAAEE,OAHd;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QA3DJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAHJ,eAwEI;MAAA,8DAAqC,QAAC,IAAD;QAAM,EAAE,EAAC,QAAT;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAArC;IAAA;MAAA;MAAA;MAAA;IAAA,QAxEJ;EAAA,gBADJ;AA4EH;;GA1HQX,Y;UAUWF,U;;;KAVXE,Y;AA4HT,eAAeA,YAAf"},"metadata":{},"sourceType":"module"}