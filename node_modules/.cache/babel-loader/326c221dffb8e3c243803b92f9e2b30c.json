{"ast":null,"code":"import _regeneratorRuntime from\"/Users/anoukpaap/Desktop/opdracht-novi/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/anoukpaap/Desktop/opdracht-novi/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/anoukpaap/Desktop/opdracht-novi/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useState}from'react';import{Link}from'react-router-dom';import axios from'axios';import{AuthContext}from\"../../context/AuthContext\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function InlogPage(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],toggleError=_useState6[1];var _useContext=useContext(AuthContext),login=_useContext.login;function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var result;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();toggleError(false);_context.prev=2;_context.next=5;return axios.post('https://frontend-educational-backend.herokuapp.com/api/auth/signin',{email:email,password:password});case 5:result=_context.sent;console.log(result.data);login(result.data.accessToken);_context.next=14;break;case 10:_context.prev=10;_context.t0=_context[\"catch\"](2);console.error(_context.t0);toggleError(true);case 14:case\"end\":return _context.stop();}}},_callee,null,[[2,10]]);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Inloggen\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"email-field\",children:[\"Emailadres:\",/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"email-field\",name:\"email\",value:email})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"password-field\",children:[\"Wachtwoord:\",/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password-field\",name:\"password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}})]}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:\"Combinatie van emailadres en wachtwoord is onjuist\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form-button\",children:\"Inloggen\"})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Heb je nog geen account? \",/*#__PURE__*/_jsx(Link,{to:\"/registreer\",children:\"Registreer\"}),\" je dan eerst.\"]})]});}export default InlogPage;","map":{"version":3,"names":["React","useContext","useState","Link","axios","AuthContext","InlogPage","email","setEmail","password","setPassword","error","toggleError","login","handleSubmit","e","preventDefault","post","result","console","log","data","accessToken","target","value"],"sources":["/Users/anoukpaap/Desktop/opdracht-novi/src/Pages/Inlog/InlogPage.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport axios from 'axios';\nimport {AuthContext} from \"../../context/AuthContext\";\n\nfunction InlogPage() {\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [error, toggleError] = useState(false);\n    const { login } = useContext(AuthContext);\n\n    async function handleSubmit(e) {\n        e.preventDefault();\n        toggleError(false);\n\n        try {\n            const result = await axios.post('https://frontend-educational-backend.herokuapp.com/api/auth/signin', {\n                email: email,\n                password: password,\n            });\n\n            console.log(result.data);\n            login(result.data.accessToken);\n\n        } catch(e) {\n            console.error(e);\n            toggleError(true);\n        }\n    }\n\n    return (\n        <>\n            <h1>Inloggen</h1>\n\n            <form onSubmit={handleSubmit}>\n                <label htmlFor=\"email-field\">\n                    Emailadres:\n                    <input\n                        type=\"email\"\n                        id=\"email-field\"\n                        name=\"email\"\n                        value={email}\n\n                    />\n                </label>\n\n                <label htmlFor=\"password-field\">\n                    Wachtwoord:\n                    <input\n                        type=\"password\"\n                        id=\"password-field\"\n                        name=\"password\"\n                        value={password}\n                        onChange={(e) => setPassword(e.target.value)}\n                    />\n                </label>\n                {error && <p className=\"error\">Combinatie van emailadres en wachtwoord is onjuist</p>}\n\n                <button\n                    type=\"submit\"\n                    className=\"form-button\"\n                >\n                    Inloggen\n                </button>\n            </form>\n\n            <p>Heb je nog geen account? <Link to=\"/registreer\">Registreer</Link> je dan eerst.</p>\n        </>\n    );\n}\n\nexport default InlogPage;"],"mappings":"oYAAA,MAAOA,MAAP,EAAgBC,UAAhB,CAA4BC,QAA5B,KAA4C,OAA5C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,MAAP,KAAkB,OAAlB,CACA,OAAQC,WAAR,KAA0B,2BAA1B,C,6IAEA,QAASC,UAAT,EAAqB,CACjB,cAA0BJ,QAAQ,CAAC,EAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eACA,eAAgCN,QAAQ,CAAC,EAAD,CAAxC,yCAAOO,QAAP,eAAiBC,WAAjB,eACA,eAA6BR,QAAQ,CAAC,KAAD,CAArC,yCAAOS,KAAP,eAAcC,WAAd,eACA,gBAAkBX,UAAU,CAACI,WAAD,CAA5B,CAAQQ,KAAR,aAAQA,KAAR,CAJiB,QAMFC,aANE,kJAMjB,iBAA4BC,CAA5B,+HACIA,CAAC,CAACC,cAAF,GACAJ,WAAW,CAAC,KAAD,CAAX,CAFJ,sCAK6BR,MAAK,CAACa,IAAN,CAAW,oEAAX,CAAiF,CAClGV,KAAK,CAAEA,KAD2F,CAElGE,QAAQ,CAAEA,QAFwF,CAAjF,CAL7B,QAKcS,MALd,eAUQC,OAAO,CAACC,GAAR,CAAYF,MAAM,CAACG,IAAnB,EACAR,KAAK,CAACK,MAAM,CAACG,IAAP,CAAYC,WAAb,CAAL,CAXR,iFAcQH,OAAO,CAACR,KAAR,cACAC,WAAW,CAAC,IAAD,CAAX,CAfR,qEANiB,+CAyBjB,mBACI,wCACI,gCADJ,cAGI,cAAM,QAAQ,CAAEE,YAAhB,wBACI,eAAO,OAAO,CAAC,aAAf,sCAEI,cACI,IAAI,CAAC,OADT,CAEI,EAAE,CAAC,aAFP,CAGI,IAAI,CAAC,OAHT,CAII,KAAK,CAAEP,KAJX,EAFJ,GADJ,cAYI,eAAO,OAAO,CAAC,gBAAf,sCAEI,cACI,IAAI,CAAC,UADT,CAEI,EAAE,CAAC,gBAFP,CAGI,IAAI,CAAC,UAHT,CAII,KAAK,CAAEE,QAJX,CAKI,QAAQ,CAAE,kBAACM,CAAD,QAAOL,YAAW,CAACK,CAAC,CAACQ,MAAF,CAASC,KAAV,CAAlB,EALd,EAFJ,GAZJ,CAsBKb,KAAK,eAAI,UAAG,SAAS,CAAC,OAAb,gEAtBd,cAwBI,eACI,IAAI,CAAC,QADT,CAEI,SAAS,CAAC,aAFd,sBAxBJ,GAHJ,cAmCI,8DAA4B,KAAC,IAAD,EAAM,EAAE,CAAC,aAAT,wBAA5B,oBAnCJ,GADJ,CAuCH,CAED,cAAeL,UAAf"},"metadata":{},"sourceType":"module"}